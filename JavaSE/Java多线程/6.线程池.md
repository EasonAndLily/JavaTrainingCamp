# Java 线程池

![thread-pool](https://tva1.sinaimg.cn/large/008eGmZEly1gnm7w4m4bjj30sg0fwgno.jpg)

前面我们学习了线程的基本概念，能够使用多线程完成相关的业务处理。到此，我们发现，线程的创建、执行等都需要我们自己来控制。显然，在实际的开发中，我们遇到了下面的瓶颈：

1. 频繁申请/销毁资源和调度资源，将带来额外的消耗，产生性能瓶颈。
2. 对资源无限申请缺少抑制手段，易引发系统资源耗尽的风险。
3. 系统无法合理管理内部的资源分布，会降低系统的稳定性。

这里你可能会想，有没有一种方法，让我们只需要需要实现的业务代码定义为任务，将复杂的任务执行和控制交给框架本身来实现，实现任务的定义与执行解耦？这样的好处是我们只需要关注业务本身的定义，不去操心业务的执行，极大的解放我们程序员的双手，节约我们的时间。这里，`池化思想`可以解决这个问题！

## 什么是池化思想？

我们先看看维基百科给出的定义：
> In resource management, pooling is the grouping together of resources (assets, equipment, personnel, effort, etc.) for the purposes of maximizing advantage or minimizing risk to the users. The term is used in finance, computing and equipment management.

上面的文字翻译如下：
> 在资源管理中，pooling是将资源(资产、设备、人员、工作等)组合在一起，以最大化用户的利益或最小化用户的风险。在金融、计算机和设备管理中此术语运用较多。

所以，`池化思想`就是对资源的组合管理，集中控制。所以，在Java中，给我们提供了`线程池`的概念，用于统一管理多线程，使用`线程池`我们将获得如下好处：

* **降低资源消耗：** 通过池化技术重复利用已创建的线程，降低线程创建和销毁造成的损耗。
* **提高响应速度：** 任务到达时，无需等待线程创建即可立即执行。
* **提高线程的可管理性：** 线程是稀缺资源，如果无限制创建，不仅会消耗系统资源，还会因为线程的不合理分布导致资源调度失衡，降低系统的稳定性。使用线程池可以进行统一的分配、调优和监控。
* **提供更多更强大的功能：** 线程池具备可拓展性，允许开发人员向其中增加更多的功能。比如延时定时线程池ScheduledThreadPoolExecutor，就允许任务延期执行或定期执行

## Java线程池